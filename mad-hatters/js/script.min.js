class BurgerMenu{constructor(e){this.menuBtn=document.querySelector(e.burgerBtn),this.menuBody=document.querySelector(e.menu),this.menuBtnActiveClass=e.burgerBtn.replace(".","")+"--active",this.isSideSlideEffect="sideSlide"===e.effect,this.screenWidth=e.resolution?e.resolution:768,this.load(this.screenWidth),this.createEvents()}toggleMenu(){document.body.classList.toggle("menu-actived"),this.menuBtn.classList.toggle(this.menuBtnActiveClass),this.menuBtn.classList.contains(this.menuBtnActiveClass)?this.isSideSlideEffect?this.menuBody.style.transform="translateX(0%)":this.menuBody.style.height=this.menuBody.scrollHeight+"px":this.isSideSlideEffect?this.menuBody.style.transform="translateX(-100%)":this.menuBody.style.height="0px"}load(){document.body.offsetWidth>=this.screenWidth?this.isSideSlideEffect?this.menuBody.style.transform="translateX(0%)":this.menuBody.style.height="auto":(this.isSideSlideEffect?this.menuBody.style.transform="translateX(-100%)":this.menuBody.style.height="0px",this.menuBtn.classList.contains(this.menuBtnActiveClass)&&this.toggleMenu())}createEvents(){this.menuBtn.addEventListener("click",this.toggleMenu.bind(this)),window.addEventListener("resize",this.load.bind(this))}}const burgerMenu=new BurgerMenu({burgerBtn:".burger-menu",menu:".header__menu"});class FormChecker{constructor(e){this.form=document.querySelector(e),this.formTextfields=this.form.querySelectorAll(".newsletter-form__input"),this.isFormError=!1,this.createEvents()}checkTextfield(e,t){let s=t||e.currentTarget;s.classList.contains("error")&&s.classList.remove("error");const i={name:"^[A-Za-zА-Яа-я\\s]{3,20}$",email:"^([a-z0-9_-]+.)*[a-z0-9_-]+@[a-z0-9_-]+(.[a-z0-9_-]+)*.[a-z]{2,6}$",message:"^[\\w\\s.А-Яа-я]{1,255}$"};let r=s.value;if(0!=r.length){new RegExp(i[s.name]).test(r)||(this.isFormError=!0,s.classList.add("error"))}else this.isFormError=!0,s.classList.add("error")}formCheck(e){e.preventDefault(),this.isFormError=!1,this.formTextfields.forEach(t=>{this.checkTextfield(e,t)}),this.isFormError||this.sendForm()}async sendForm(){let e=new FormData(this.form);(await fetch("./order.php",{method:"POST",body:e})).ok&&this.form.reset()}createEvents(){this.formTextfields.forEach(e=>{e.addEventListener("blur",this.checkTextfield.bind(this))}),this.form.addEventListener("submit",this.formCheck.bind(this))}}let formchecker=new FormChecker("#newsletter-form");