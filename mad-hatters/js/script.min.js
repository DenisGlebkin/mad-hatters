class BurgerMenu{constructor(e,t){this.btnSelector=e,this.menuBtn=document.querySelector(this.btnSelector),this.menuBody=document.querySelector(t),this.load(),this.createEvents()}load(){window.outerWidth<=768&&(this.menuBody.style.height="0px")}toggleMenu(){let e=this.btnSelector.replace(".","")+"--active";this.menuBtn.classList.toggle(e),this.menuBtn.classList.contains(e)?this.menuBody.style.height=this.menuBody.scrollHeight+"px":this.menuBody.style.height="0px"}createEvents(){this.menuBtn.addEventListener("click",this.toggleMenu.bind(this))}}const burgerMenu=new BurgerMenu(".burger-menu",".header__menu");class FormChecker{constructor(e){this.form=document.querySelector(e),this.formTextfields=this.form.querySelectorAll(".newsletter-form__input"),this.isFormError=!1,this.createEvents()}checkTextfield(e,t){let r=t||e.currentTarget;r.classList.contains("error")&&r.classList.remove("error");const s={name:"^[A-Za-zА-Яа-я\\s]{3,20}$",email:"^([a-z0-9_-]+.)*[a-z0-9_-]+@[a-z0-9_-]+(.[a-z0-9_-]+)*.[a-z]{2,6}$",message:"^[\\w\\s.А-Яа-я]{1,255}$"};let i=r.value;if(0!=i.length){new RegExp(s[r.name]).test(i)||(this.isFormError=!0,r.classList.add("error"))}else this.isFormError=!0,r.classList.add("error")}formCheck(e){e.preventDefault(),this.isFormError=!1,this.formTextfields.forEach(t=>{this.checkTextfield(e,t)}),this.isFormError||this.sendForm()}async sendForm(){let e=new FormData(this.form);(await fetch("./order.php",{method:"POST",body:e})).ok&&this.form.reset()}createEvents(){this.formTextfields.forEach(e=>{e.addEventListener("blur",this.checkTextfield.bind(this))}),this.form.addEventListener("submit",this.formCheck.bind(this))}}let formchecker=new FormChecker("#newsletter-form");